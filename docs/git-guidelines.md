# Git 관리 가이드: .gitignore 와 추적 중인 파일

이 문서는 `.gitignore`의 동작 방식과, 이미 Git이 추적하고 있는 파일을 올바르게 무시 목록에 추가하는 방법을 설명합니다.

## 1. `.gitignore`의 핵심 동작 원리

`.gitignore` 파일은 Git에게 "이 파일들은 추적하지 말아줘"라고 알려주는 목록입니다. 하지만 여기서 가장 중요한 핵심 원리가 있습니다.

> **`.gitignore`의 규칙은 아직 Git이 관리하지 않는 새로운 파일(Untracked files)에만 적용됩니다.**

만약 어떤 파일이 `git add` 되었거나 이전 커밋에 포함된 적이 있다면, 그 파일은 '추적 중인(tracked)' 상태가 됩니다.

**이미 추적 중인 파일은, 나중에 `.gitignore`에 규칙을 추가해도 Git이 계속해서 변경 내역을 추적합니다.** Git은 "이미 관리 중인 중요한 파일이므로, 내 마음대로 무시할 수 없다"고 판단하기 때문입니다.

## 2. 문제 상황: `.gitignore`에 추가했는데도 파일이 계속 추적될 때

이것이 바로 우리가 `.idea/.gitignore` 파일에서 겪었던 문제입니다.

1.  `.idea/.gitignore` 파일이 이미 Git의 관리 대상에 포함되어 있었습니다.
2.  그 후에 루트 `.gitignore` 파일에 `.idea/.gitignore`를 무시하라는 규칙을 추가했습니다.
3.  하지만 Git은 이미 추적 중이었기 때문에 이 규칙을 무시하고 계속 파일을 관리하려고 했습니다.

### 해결 방법: Git의 추적 목록(캐시)에서만 제거하기

이 문제를 해결하려면, Git에게 "이 파일은 더 이상 추적하지 말아줘"라고 직접 명령을 내려야 합니다.

프로젝트 루트 폴더에서 아래 명령어를 실행합니다.

```sh
git rm --cached <file_path>
```

-   `git rm`: 파일을 제거하는 명령어입니다.
-   `--cached`: **(가장 중요)** 실제 파일을 디스크에서 삭제하지 않고, **오직 Git의 관리 목록(Staging Index 또는 캐시)에서만 제거**하는 옵션입니다.

이 명령어를 실행하면, Git은 해당 파일을 더 이상 신경 쓰지 않게 되며, 그때부터 `.gitignore`의 규칙이 정상적으로 적용됩니다.

## 3. 실제 적용 사례: `.idea/.gitignore` 파일 처리 과정

1.  **문제 인식**: `.idea/.gitignore` 파일이 루트 `.gitignore`와 중복되므로, Git 관리 대상에서 제외하기로 결정했습니다.
2.  **`.gitignore` 수정**: 루트 `.gitignore` 파일에 `.idea/.gitignore` 규칙을 추가했습니다.
3.  **문제 발생**: 하지만 IDE에서 해당 파일이 여전히 Git 변경 내역에 남아있는 것을 확인했습니다. (이미 추적 중이었기 때문)
4.  **해결 명령어 실행**: 프로젝트 루트에서 다음 명령어를 실행하여 Git의 추적 목록에서만 제거했습니다.
    ```sh
    git rm --cached .idea/.gitignore
    ```
5.  **커밋**: 이 변경사항(`git rm`으로 인한 삭제 처리)과 업데이트된 루트 `.gitignore` 파일을 함께 커밋하여 문제를 완전히 해결했습니다.

## 4. 요약

이미 Git이 추적하고 있는 파일을 무시 목록에 넣고 싶을 때는 다음 두 단계를 모두 수행해야 합니다.

1.  루트 `.gitignore` 파일에 해당 파일/폴더 규칙을 추가합니다.
2.  `git rm --cached <file_path>` 명령어를 실행하여 Git의 추적을 중단시킵니다.
